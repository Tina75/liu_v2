<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/zTreeStyle/zTreeStyle.css">
</head>
<body>
<div class="frame">
    <button onclick="show()">展示节点树</button>
    <button onclick="addTree()">新增ul结构</button>
    <div class="father">
        <ul  class="ztree"></ul>
    </div>
</div>
</body>
<script src="js/jquery.min.js"></script>
<script src="js/jquery.ztree.core.js"></script>
<script src="js/jquery.ztree.excheck.js"></script>
<script>
    var zTreeObj;
    var zTreeArr=[];
    // zTree 的参数配置，深入使用请参考 API 文档（setting 配置详解）
    var setting = {
        check:{
            enable: true,
            chkStyle : "checkbox"
        },
        view: {
            showIcon: false
        },
//        callback: {
//            onCheck:  onCheck
//        }
    };
    // zTree 的数据属性，深入使用请参考 API 文档（zTreeNode 节点数据详解）
    var zNodes = [
        {name:'全部用户',open:true,children:[
            {name:"A组用户", open:true, children:[
                {name:"A1"}, {name:"A2"}]},
            {name:"B组用户", open:true, children:[
                {name:"B1"}, {name:"B2"}]},
            {name:"C组用户", open:true, children:[
                {name:"C1"}, {name:"C2"}]},
            {name:"D组用户", open:true, children:[
                {name:"D1"}, {name:"D2"}]
            }
        ]}
    ];
    function filter(node) {   //过滤器直选中2级节点累加
        return (node.level == 2 && node.checked == true);
    }
    function show() {
        zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, zNodes);
        console.log(zTreeObj)
    }
    function addTree() {
        $(".father").find("ul").attr("id","treeDemo");
        console.log($("#treeDemo"))
        zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, zNodes);
    }
</script>
</html>